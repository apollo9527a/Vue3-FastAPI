import{_ as U,u as J,g as D,a as $,b as j,c as M,d as P}from"./index.b9a06856.js";import{d as R,S as W,g as X,T as Z,h as G,U as H,r as l,o as K,i as Q,l as e,w as t,k as a,j as s,t as d,z as w,V as Y,W as ee,X as te,D as oe,x as se,y as ae}from"./vendor.be4efd2f.js";const ue=_=>{var m=new Date(_).toJSON(),g=new Date(+new Date(m)+8*3600*1e3).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"");return g};const r=_=>(se("data-v-523c97c4"),_=_(),ae(),_),ne={class:"body"},le={class:"user-info"},de=["src"],ie={class:"user-info-cont"},ce={class:"user-info-name"},re={class:"user-info-list"},_e={class:"user-info-list"},pe=r(()=>s("div",{class:"clearfix"},[s("span",null,"\u8BED\u8A00\u4F7F\u7528\u8BE6\u60C5")],-1)),me={class:"grid-content grid-con-1"},ge={class:"grid-cont-right"},fe={class:"grid-num"},he=r(()=>s("div",null,"\u7528\u6237\u8BBF\u95EE\u91CF",-1)),ve={class:"grid-content grid-con-2"},we={class:"grid-cont-right"},xe={class:"grid-num"},be=r(()=>s("div",null,"\u5F85\u529E\u4E8B\u9879",-1)),Fe={class:"grid-content grid-con-3"},Be={class:"grid-cont-right"},Ee={class:"grid-num"},ye=r(()=>s("div",null,"\u8BF7\u6C42\u6B21\u6570",-1)),De={class:"clearfix"},Ce=r(()=>s("span",null,"\u5F85\u529E\u4E8B\u9879",-1)),Ie=w("\u6DFB\u52A0"),Ne=r(()=>s("div",{id:"pie",style:{height:"220px"}},null,-1)),Ve=r(()=>s("div",{id:"bar",style:{height:"220px"}},null,-1)),Te={class:"dialog-footer"},Ae=w("\u53D6 \u6D88"),Se=w("\u6DFB \u52A0"),ke=R({setup(_){let m=W("echarts");const g=J(),o=X({userInfo:JSON.parse(D("userInfo")),languageDetails:[],todoList:[],visitNumber:0,todoNumber:0,requestNumber:0,showDialog:!1,todoText:""});Z(()=>{let n=JSON.parse(D("userInfo"));g.userInfo.avatar?o.userInfo=g.userInfo:o.userInfo=n});let f,h;G(async()=>{f=m.init(document.getElementById("pie")),h=m.init(document.getElementById("bar")),await B(),await C(),T(),A()}),H(()=>{f.dispose(),h.dispose()});const C=async()=>{const{data:n}=await $();o.todoList=n.todo_list,o.languageDetails=n.language_details},B=async()=>{const{data:n}=await j();o.visitNumber=n.visit_num,o.todoNumber=n.todo_num,o.requestNumber=n.request_num},I=async()=>{const{data:n}=await M({title:o.todoText});o.todoList=n,o.showDialog=!1,await B(),o.todoText=""},N=async n=>{await P({id:n})},V=()=>{o.showDialog=!1,o.todoText=""},T=()=>{f.setOption({title:{text:"\u4FE1\u606F",left:"center",top:"center"},legend:{orient:"vertical",left:"left",data:["\u7528\u6237\u8BBF\u95EE\u91CF","\u5F85\u529E\u4E8B\u9879","\u8BF7\u6C42\u6B21\u6570"]},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},series:[{type:"pie",radius:["40%","70%"],data:[{value:o.visitNumber,name:"\u7528\u6237\u8BBF\u95EE\u91CF"},{value:o.todoNumber,name:"\u5F85\u529E\u4E8B\u9879"},{value:o.requestNumber,name:"\u8BF7\u6C42\u6B21\u6570"}]}]}),window.onresize=function(){f.resize()}},A=()=>{h.setOption({title:{text:"\u5468\u8FDB\u5EA6",left:"center"},legend:{show:!0},tooltip:{trigger:"item",formatter:"{b} : {c}"},xAxis:{data:["\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D","\u5468\u65E5"]},yAxis:{},series:[{type:"bar",data:[23,24,18,25,27,28,25]}]}),window.onresize=function(){h.resize()}};return(n,p)=>{const i=l("el-card"),v=l("el-table-column"),S=l("el-progress"),E=l("el-table"),c=l("el-col"),x=l("el-icon"),b=l("el-row"),F=l("el-button"),k=l("el-checkbox"),q=l("el-input"),z=l("el-form-item"),L=l("el-form"),O=l("el-dialog");return K(),Q("div",ne,[e(b,{gutter:20},{default:t(()=>[e(c,{span:8},{default:t(()=>[e(i,{class:"mgb20",style:{height:"252px"}},{default:t(()=>[s("div",le,[s("img",{src:a(o).userInfo.avatar,class:"user-avator"},null,8,de),s("div",ie,[s("div",ce,d(a(o).userInfo.name),1),s("div",null,d(a(o).userInfo.name==="admin"?"\u8D85\u7EA7\u7BA1\u7406\u5458":"\u666E\u901A\u7528\u6237"),1)])]),s("div",re,"\u6700\u540E\u66F4\u65B0\u65F6\u95F4\uFF1A"+d(a(ue)(a(o).userInfo.modifyTime)),1),s("div",_e,"\u5F53\u524D\u767B\u5F55\u5730\u5740\uFF1A"+d(a(o).userInfo.address),1)]),_:1}),e(i,{style:{height:"250px"}},{header:t(()=>[pe]),default:t(()=>[e(E,{"show-header":!1,data:a(o).languageDetails,class:"language"},{default:t(()=>[e(v,{width:"100"},{default:t(u=>[w(d(u.row.title),1)]),_:1}),e(v,{style:{width:"calc(100% - 140px)"}},{default:t(u=>[e(S,{percentage:u.row.percentage,color:u.row.color},null,8,["percentage","color"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),e(c,{span:16},{default:t(()=>[e(b,{gutter:20,class:"mgb20"},{default:t(()=>[e(c,{span:8},{default:t(()=>[e(i,{"body-style":{padding:"0px"}},{default:t(()=>[s("div",me,[e(x,{class:"grid-con-icon"},{default:t(()=>[e(a(Y))]),_:1}),s("div",ge,[s("div",fe,d(a(o).visitNumber),1),he])])]),_:1})]),_:1}),e(c,{span:8},{default:t(()=>[e(i,{"body-style":{padding:"0px"}},{default:t(()=>[s("div",ve,[e(x,{class:"grid-con-icon"},{default:t(()=>[e(a(ee))]),_:1}),s("div",we,[s("div",xe,d(a(o).todoNumber),1),be])])]),_:1})]),_:1}),e(c,{span:8},{default:t(()=>[e(i,{"body-style":{padding:"0px"}},{default:t(()=>[s("div",Fe,[e(x,{class:"grid-con-icon"},{default:t(()=>[e(a(te))]),_:1}),s("div",Be,[s("div",Ee,d(a(o).requestNumber),1),ye])])]),_:1})]),_:1})]),_:1}),e(i,{style:{height:"402px"}},{header:t(()=>[s("div",De,[Ce,e(F,{style:{float:"right",padding:"3px 0"},type:"text",onClick:p[0]||(p[0]=u=>a(o).showDialog=!0)},{default:t(()=>[Ie]),_:1})])]),default:t(()=>[e(E,{"show-header":!1,data:a(o).todoList,style:{width:"100%"}},{default:t(()=>[e(v,{width:"40"},{default:t(u=>[e(k,{modelValue:u.row.status,"onUpdate:modelValue":y=>u.row.status=y,onChange:y=>N(u.$index)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(v,null,{default:t(u=>[s("div",{class:oe(["todo-item",{"todo-item-del":u.row.status}])},d(u.row.title),3)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1}),e(b,{gutter:20,style:{"margin-bottom":"-10px"}},{default:t(()=>[e(c,{span:8},{default:t(()=>[e(i,null,{default:t(()=>[Ne]),_:1})]),_:1}),e(c,{span:16},{default:t(()=>[e(i,null,{default:t(()=>[Ve]),_:1})]),_:1})]),_:1}),e(O,{title:"\u6DFB\u52A0\u5F85\u529E",modelValue:a(o).showDialog,"onUpdate:modelValue":p[2]||(p[2]=u=>a(o).showDialog=u),width:"21%",draggable:""},{footer:t(()=>[s("span",Te,[e(F,{onClick:V},{default:t(()=>[Ae]),_:1}),e(F,{type:"primary",onClick:I},{default:t(()=>[Se]),_:1})])]),default:t(()=>[e(L,{"label-width":"100px",autocomplete:"on"},{default:t(()=>[e(z,{label:"\u5F85\u529E\u4E8B\u9879"},{default:t(()=>[e(q,{modelValue:a(o).todoText,"onUpdate:modelValue":p[1]||(p[1]=u=>a(o).todoText=u),placeholder:"\u8BF7\u8F93\u5165\u5F85\u529E\u4E8B\u9879"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}});var Le=U(ke,[["__scopeId","data-v-523c97c4"]]);export{Le as default};
