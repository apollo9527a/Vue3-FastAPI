import{d as F,u as h,R as C,S as y,r as d,o as x,h as R,i as p,k as o,j as t,w as a,s as V,v as b,a3 as k,a4 as E,a5 as S,x as I,E as g}from"./vendor.3998f262.js";import{k as U,B as q,_ as L,l as T,s as v}from"./index.46b49780.js";const A=n=>U.request({headers:{"Content-Type":"application/x-www-form-urlencoded"},url:`${q}/login`,method:"POST",data:n,transformRequest:[function(l){var e="";for(var r in l)e+=encodeURIComponent(r)+"="+encodeURIComponent(l[r])+"&";return e.substring(0,e.length-1)}]});const D=n=>(V("data-v-7ff70535"),n=n(),b(),n),N={class:"login-wrap"},$={class:"ms-login"},K=D(()=>p("div",{class:"ms-title"},"\u5B66\u751F\u9009\u8BFE\u7CFB\u7EDF",-1)),j={class:"login-btn"},z=I("\u767B\u5F55"),M=F({setup(n){const l=h(),e=C({username:"admin",password:"123"}),r=y(),w={username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}]},c=()=>{r.value.validate(async m=>{if(m){const{access_token:s}=await A(e);s&&(g.success("\u767B\u5F55\u6210\u529F"),v("username",e.username),v("Authorization",s),l.push("/"))}else return g.warning("\u6570\u636E\u9A8C\u8BC1\u5931\u8D25\uFF01"),!1})};return T().clearTags,(m,s)=>{const i=d("el-button"),_=d("el-input"),f=d("el-form-item"),B=d("el-form");return x(),R("div",N,[p("div",$,[K,o(B,{model:t(e),rules:w,ref_key:"loginRef",ref:r,"label-width":"0px",class:"ms-content"},{default:a(()=>[o(f,{prop:"username"},{default:a(()=>[o(_,{modelValue:t(e).username,"onUpdate:modelValue":s[0]||(s[0]=u=>t(e).username=u),placeholder:"username"},{prepend:a(()=>[o(i,{icon:t(k)},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),o(f,{prop:"password"},{default:a(()=>[o(_,{type:"password",placeholder:"password",modelValue:t(e).password,"onUpdate:modelValue":s[1]||(s[1]=u=>t(e).password=u),onKeyup:s[2]||(s[2]=S(u=>c(),["enter"]))},{prepend:a(()=>[o(i,{icon:t(E)},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),p("div",j,[o(i,{type:"primary",onClick:s[3]||(s[3]=u=>c())},{default:a(()=>[z]),_:1})])]),_:1},8,["model"])])])}}});var H=L(M,[["__scopeId","data-v-7ff70535"]]);export{H as default};
