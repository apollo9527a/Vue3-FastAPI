import{_ as O,g as $,u as j,a as J,B as M,b as P,c as R,d as W,e as X}from"./index.42360b27.js";import{d as Z,S as G,g as H,h as K,T as Q,U as Y,r as n,o as ee,i as te,l as e,w as t,j as s,k as l,t as i,z as h,V as oe,W as se,X as ae,D as ue,x as le,y as ne}from"./vendor.fe2efcfb.js";const de=m=>{var g=new Date(m).toJSON(),B=new Date(+new Date(g)+8*3600*1e3).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"");return B};const _=m=>(le("data-v-b60ef82e"),m=m(),ne(),m),ie={class:"body"},ce={class:"user-info"},re=["src"],_e={class:"user-info-cont"},me={class:"user-info-name"},pe={class:"user-info-list"},ge={class:"user-info-list"},fe=_(()=>s("div",{class:"clearfix"},[s("span",null,"\u8BED\u8A00\u4F7F\u7528\u8BE6\u60C5")],-1)),he={class:"grid-content grid-con-1"},ve={class:"grid-cont-right"},be={class:"grid-num"},we=_(()=>s("div",null,"\u7528\u6237\u8BBF\u95EE\u91CF",-1)),ye={class:"grid-content grid-con-2"},Be={class:"grid-cont-right"},xe={class:"grid-num"},Fe=_(()=>s("div",null,"\u5F85\u529E\u4E8B\u9879",-1)),Ee={class:"grid-content grid-con-3"},De={class:"grid-cont-right"},Ce={class:"grid-num"},Ne=_(()=>s("div",null,"\u8BF7\u6C42\u6B21\u6570",-1)),Ve={class:"clearfix"},Te=_(()=>s("span",null,"\u5F85\u529E\u4E8B\u9879",-1)),Ae=h("\u6DFB\u52A0"),Se=_(()=>s("div",{id:"pie",style:{height:"220px"}},null,-1)),ke=_(()=>s("div",{id:"bar",style:{height:"220px"}},null,-1)),Ie={class:"dialog-footer"},qe=h("\u53D6 \u6D88"),ze=h("\u6DFB \u52A0"),Ue=Z({setup(m){let g=G("echarts");const D=$("username")==="admin"?"\u8D85\u7EA7\u7BA1\u7406\u5458":"\u666E\u901A\u7528\u6237",o=H({name:"",address:"",modifyTime:"",image:"",languageDetails:[],todoList:[],visitNum:0,visitNumber:0,todoNumber:0,requestNumber:0,todoText:""}),v=j();K(async()=>{await x(),await C()});const x=async()=>{const{data:a}=await J();o.name=a.name,o.address=a.address,o.modifyTime=a.gmt_modify,o.image=M+a.image},C=async()=>{const{data:a}=await P();o.todoList=a.todo_list,o.languageDetails=a.language_details;const{data:d}=await R();o.visitNumber=d.visit_num,o.todoNumber=d.todo_num,o.requestNumber=d.request_num,A(),S()};Q(()=>{console.log(v.refreshView),v.refreshView&&(x(),v.refreshView=!1)});const p=Y(!1),N=async()=>{let{data:a}=await W({title:o.todoText});o.todoList=a.todo_list,o.todoNumber=a.todo_num,p.value=!1,o.todoText=""},V=async a=>{await X({id:a})},T=()=>{p.value=!1,o.todoText=""},A=()=>{let a=g.init(document.getElementById("pie"));a.setOption({title:{text:"\u4FE1\u606F",left:"center",top:"center"},legend:{orient:"vertical",left:"left",data:["\u7528\u6237\u8BBF\u95EE\u91CF","\u5F85\u529E\u4E8B\u9879","\u8BF7\u6C42\u6B21\u6570"]},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},series:[{type:"pie",radius:["40%","70%"],data:[{value:o.visitNumber,name:"\u7528\u6237\u8BBF\u95EE\u91CF"},{value:o.todoNumber,name:"\u5F85\u529E\u4E8B\u9879"},{value:o.requestNumber,name:"\u8BF7\u6C42\u6B21\u6570"}]}]}),window.onresize=function(){a.resize()}},S=()=>{let a=g.init(document.getElementById("bar"));a.setOption({title:{text:"\u5468\u8FDB\u5EA6",left:"center"},legend:{show:!0},tooltip:{trigger:"item",formatter:"{b} : {c}"},xAxis:{data:["\u5468\u4E00","\u5468\u4E8C","\u5468\u4E09","\u5468\u56DB","\u5468\u4E94","\u5468\u516D","\u5468\u65E5"]},yAxis:{},series:[{type:"bar",data:[23,24,18,25,27,28,25]}]}),window.onresize=function(){a.resize()}};return(a,d)=>{const c=n("el-card"),f=n("el-table-column"),k=n("el-progress"),F=n("el-table"),r=n("el-col"),b=n("el-icon"),w=n("el-row"),y=n("el-button"),I=n("el-checkbox"),q=n("el-input"),z=n("el-form-item"),U=n("el-form"),L=n("el-dialog");return ee(),te("div",ie,[e(w,{gutter:20},{default:t(()=>[e(r,{span:8},{default:t(()=>[e(c,{class:"mgb20",style:{height:"252px"}},{default:t(()=>[s("div",ce,[s("img",{src:l(o).image,class:"user-avator"},null,8,re),s("div",_e,[s("div",me,i(l(o).name),1),s("div",null,i(l(D)),1)])]),s("div",pe,"\u66F4\u65B0\u65F6\u95F4\uFF1A"+i(l(de)(l(o).modifyTime)),1),s("div",ge,"\u767B\u5F55\u5730\u5740\uFF1A"+i(l(o).address),1)]),_:1}),e(c,{style:{height:"250px"}},{header:t(()=>[fe]),default:t(()=>[e(F,{"show-header":!1,data:l(o).languageDetails,class:"language"},{default:t(()=>[e(f,{width:"100"},{default:t(u=>[h(i(u.row.title),1)]),_:1}),e(f,{style:{width:"calc(100% - 140px)"}},{default:t(u=>[e(k,{percentage:u.row.percentage,color:u.row.color},null,8,["percentage","color"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),e(r,{span:16},{default:t(()=>[e(w,{gutter:20,class:"mgb20"},{default:t(()=>[e(r,{span:8},{default:t(()=>[e(c,{"body-style":{padding:"0px"}},{default:t(()=>[s("div",he,[e(b,{class:"grid-con-icon"},{default:t(()=>[e(l(oe))]),_:1}),s("div",ve,[s("div",be,i(l(o).visitNumber),1),we])])]),_:1})]),_:1}),e(r,{span:8},{default:t(()=>[e(c,{"body-style":{padding:"0px"}},{default:t(()=>[s("div",ye,[e(b,{class:"grid-con-icon"},{default:t(()=>[e(l(se))]),_:1}),s("div",Be,[s("div",xe,i(l(o).todoNumber),1),Fe])])]),_:1})]),_:1}),e(r,{span:8},{default:t(()=>[e(c,{"body-style":{padding:"0px"}},{default:t(()=>[s("div",Ee,[e(b,{class:"grid-con-icon"},{default:t(()=>[e(l(ae))]),_:1}),s("div",De,[s("div",Ce,i(l(o).requestNumber),1),Ne])])]),_:1})]),_:1})]),_:1}),e(c,{style:{height:"402px"}},{header:t(()=>[s("div",Ve,[Te,e(y,{style:{float:"right",padding:"3px 0"},type:"text",onClick:d[0]||(d[0]=u=>p.value=!0)},{default:t(()=>[Ae]),_:1})])]),default:t(()=>[e(F,{"show-header":!1,data:l(o).todoList,style:{width:"100%"}},{default:t(()=>[e(f,{width:"40"},{default:t(u=>[e(I,{modelValue:u.row.status,"onUpdate:modelValue":E=>u.row.status=E,onChange:E=>V(u.$index)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(f,null,{default:t(u=>[s("div",{class:ue(["todo-item",{"todo-item-del":u.row.status}])},i(u.row.title),3)]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1}),e(w,{gutter:20,style:{"margin-bottom":"-10px"}},{default:t(()=>[e(r,{span:8},{default:t(()=>[e(c,null,{default:t(()=>[Se]),_:1})]),_:1}),e(r,{span:16},{default:t(()=>[e(c,null,{default:t(()=>[ke]),_:1})]),_:1})]),_:1}),e(L,{title:"\u6DFB\u52A0\u5F85\u529E",modelValue:p.value,"onUpdate:modelValue":d[2]||(d[2]=u=>p.value=u),width:"30%"},{footer:t(()=>[s("span",Ie,[e(y,{onClick:T},{default:t(()=>[qe]),_:1}),e(y,{type:"primary",onClick:N},{default:t(()=>[ze]),_:1})])]),default:t(()=>[e(U,{"label-width":"100px",autocomplete:"on"},{default:t(()=>[e(z,{label:"\u5F85\u529E\u4E8B\u9879"},{default:t(()=>[e(q,{modelValue:l(o).todoText,"onUpdate:modelValue":d[1]||(d[1]=u=>l(o).todoText=u),placeholder:"\u8BF7\u8F93\u5165\u5F85\u529E\u4E8B\u9879"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}});var $e=O(Ue,[["__scopeId","data-v-b60ef82e"]]);export{$e as default};
