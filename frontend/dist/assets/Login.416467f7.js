import{d as F,u as B,g as x,U as y,r as d,o as C,i as V,j as p,l as s,k as t,w as a,x as b,y as R,a4 as k,a5 as I,a6 as E,z as U,E as g}from"./vendor.fe2efcfb.js";import{m as S,A as q,_ as A,u as D,s as w}from"./index.42360b27.js";const L=n=>S.request({headers:{"Content-Type":"application/x-www-form-urlencoded"},url:`${q}/login`,method:"POST",data:n,transformRequest:[function(l){var e="";for(var u in l)e+=encodeURIComponent(u)+"="+encodeURIComponent(l[u])+"&";return e.substring(0,e.length-1)}]});const T=n=>(b("data-v-1325cdc0"),n=n(),R(),n),N={class:"login-wrap"},$={class:"ms-login"},z=T(()=>p("div",{class:"ms-title"},"\u5B66\u751F\u9009\u8BFE\u7CFB\u7EDF",-1)),K={class:"login-btn"},P=U("\u767B\u5F55"),j=F({setup(n){const l=B(),e=x({username:"admin",password:"123"}),u=y(),v={username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}]},c=()=>{u.value.validate(async m=>{if(m){const{access_token:o}=await L(e);o&&(g.success("\u767B\u5F55\u6210\u529F"),w("username",e.username),w("Authorization",o),l.push("/"))}else return g.warning("\u6570\u636E\u6821\u9A8C\u5931\u8D25\uFF01"),!1})};return D().clearTags,(m,o)=>{const i=d("el-button"),_=d("el-input"),f=d("el-form-item"),h=d("el-form");return C(),V("div",N,[p("div",$,[z,s(h,{model:t(e),rules:v,ref_key:"loginRef",ref:u,"label-width":"0px",class:"ms-content"},{default:a(()=>[s(f,{prop:"username"},{default:a(()=>[s(_,{modelValue:t(e).username,"onUpdate:modelValue":o[0]||(o[0]=r=>t(e).username=r),placeholder:"\u7528\u6237\u540D",maxlength:"10"},{prepend:a(()=>[s(i,{icon:t(k)},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),s(f,{prop:"password"},{default:a(()=>[s(_,{type:"password",placeholder:"\u5BC6\u7801",modelValue:t(e).password,"onUpdate:modelValue":o[1]||(o[1]=r=>t(e).password=r),"show-password":"",maxlength:"20",onKeyup:o[2]||(o[2]=E(r=>c(),["enter"]))},{prepend:a(()=>[s(i,{icon:t(I)},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),p("div",K,[s(i,{type:"primary",onClick:o[3]||(o[3]=r=>c())},{default:a(()=>[P]),_:1})])]),_:1},8,["model"])])])}}});var H=A(j,[["__scopeId","data-v-1325cdc0"]]);export{H as default};
