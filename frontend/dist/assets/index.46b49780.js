var ae=Object.defineProperty;var k=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var V=(e,t,s)=>t in e?ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,C=(e,t)=>{for(var s in t||(t={}))M.call(t,s)&&V(e,s,t[s]);if(k)for(var s of k(t))W.call(t,s)&&V(e,s,t[s]);return e};var w=(e,t)=>{var s={};for(var o in e)M.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&k)for(var o of k(e))t.indexOf(o)<0&&W.call(e,o)&&(s[o]=e[o]);return s};var q=(e,t,s)=>(V(e,typeof t!="symbol"?t+"":t,s),s);import{d as x,r as c,o as d,c as v,p as ue,e as re,a as ie,E as z,b as Q,f as ce,u as X,g as le,h as E,i as _,j as p,w as r,k as u,l as de,m as _e,n as pe,t as D,q as me,s as he,v as fe,x as L,y as Y,z as Z,F as $,A as N,B as I,C as ge,D as Ee,G as Fe,H as ve,I as be,K as Be,J as Le,L as Ce,M as Ae,N as De,O as xe,P as Te}from"./vendor.3998f262.js";const ye=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}};ye();const ke=x({setup(e){return ue("echarts",re),(t,s)=>{const o=c("router-view");return d(),v(o)}}}),we="modulepreload",J={},$e="/",m=function(t,s){return!s||s.length===0?t():Promise.all(s.map(o=>{if(o=`${$e}${o}`,o in J)return;J[o]=!0;const n=o.endsWith(".css"),i=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${i}`))return;const l=document.createElement("link");if(l.rel=n?"stylesheet":we,n||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),n)return new Promise((h,B)=>{l.addEventListener("load",h),l.addEventListener("error",B)})})).then(()=>t())},P=ie({id:"index",state:()=>({tagsList:[],collapse:!1}),getters:{},actions:{delTagsItem(e){this.tagsList.splice(e,1)},setTagsItem(e){this.tagsList.push(e)},clearTags(){this.tagsList=[]},closeTagsOther(e){this.tagsList=e}}});var Ie="/assets/img.3f6b7d00.jpg";const j="Authorization$://";function H(e){return localStorage.getItem(e||j)}function Et(e,t){return localStorage.setItem(e||j,t)}function G(e){return localStorage.removeItem(e||j)}const Pe=e=>{let t="";switch(e){case 400:t="\u8BF7\u6C42\u9519\u8BEF(400)";break;case 401:t="\u672A\u6388\u6743\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55(401)";break;case 403:t="\u62D2\u7EDD\u8BBF\u95EE(403)";break;case 404:t="\u8BF7\u6C42\u51FA\u9519(404)";break;case 408:t="\u8BF7\u6C42\u8D85\u65F6(408)";break;case 500:t="\u670D\u52A1\u5668\u9519\u8BEF(500)";break;case 501:t="\u670D\u52A1\u672A\u5B9E\u73B0(501)";break;case 502:t="\u7F51\u7EDC\u9519\u8BEF(502)";break;case 503:t="\u670D\u52A1\u4E0D\u53EF\u7528(503)";break;case 504:t="\u7F51\u7EDC\u8D85\u65F6(504)";break;case 505:t="HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301(505)";break;default:t=`\u8FDE\u63A5\u51FA\u9519(${e})!`}return`${t}\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u8054\u7CFB\u7BA1\u7406\u5458\uFF01`},Oe="\u5B66\u751F\u9009\u8BFE\u7CFB\u7EDF",Re="http://8.136.82.204:8000/api",Se=15e3;class Ve{constructor(t){q(this,"instance");q(this,"loading");this.instance=Q.create(t)}request(t){return new Promise((s,o)=>{this.instance.request(t).then(n=>s(n.data)).catch(n=>o(n))})}startLoading(){this.closeLoading(),this.loading=ce.service({target:".el-table, .ms-content",lock:!0,text:"\u6B63\u5728\u8BF7\u6C42\u6570\u636E..."}),setTimeout(()=>this.closeLoading(),5e3)}closeLoading(){var t;(t=this.loading)==null||t.close()}}const b=new Ve({baseURL:Re,timeout:Se,headers:{"Content-Type":"application/json;charset=utf-8"},transformRequest:[e=>JSON.stringify(e)],validateStatus(){return!0},transformResponse:[e=>(typeof e=="string"&&e.startsWith("{")&&(e=JSON.parse(e)),e)]});b.instance.interceptors.request.use(e=>{b.startLoading();let t=H("Authorization");return t&&(e.headers.Authorization="Bearer "+t),e},e=>(e.data={},e.data.msg="\u670D\u52A1\u5668\u5F02\u5E38\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\uFF01",Promise.reject(e)));b.instance.interceptors.response.use(e=>{b.closeLoading();let t="";return e.status==401?(window.location.href="/login",!1):((e.status<200||e.status>=300)&&(e.data.msg!=null?t=e.data.msg:t=Pe(e.status),z.error(t)),e)},e=>(Q.isCancel(e)?console.log("repeated request: "+e.message):(e.data={},e.data.msg="\u8BF7\u6C42\u8D85\u65F6\u6216\u670D\u52A1\u5668\u5F02\u5E38\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u8054\u7CFB\u7BA1\u7406\u5458\uFF01",z.error(e.data.msg)),Promise.reject(e)));function O(e,t){return b.request({url:e,params:t,method:"GET"})}function T(e,t){return b.request({url:e,data:t,method:"POST"})}function qe(e,t){return b.request({url:e,data:t,method:"PUT"})}function ze(e,t){return b.request({url:e,params:t,method:"DELETE"})}const Ne=()=>T("/logout"),Ft=()=>O("/dashboard"),vt=e=>T("/add/todo",C({},e)),bt=e=>T("/update/todo",C({},e)),Bt=e=>{let o=e,{path:t}=o,s=w(o,["path"]);return O(`${t}/`,C({},s))},Lt=e=>O(`${e.path}/${e.id}`),Ct=e=>{let o=e,{path:t}=o,s=w(o,["path"]);return T(`${t}/`,C({},s))},At=e=>{let n=e,{path:t,id:s}=n,o=w(n,["path","id"]);return qe(`${t}/${s}`,C({},o))},Dt=e=>ze(`${e.path}/${e.id}`),xt=e=>T(`${e.path}/del/`,e.idList),Tt=e=>O(`${e}/relation/`);var ee=(e,t)=>{const s=e.__vccOpts||e;for(const[o,n]of t)s[o]=n;return s};const te=e=>(he("data-v-47c8be89"),e=e(),fe(),e),je={class:"header"},He=te(()=>_("div",{class:"logo"},"\u5B66\u751F\u9009\u8BFE\u7CFB\u7EDF",-1)),Ue={class:"header-right"},Ke={class:"header-user-con"},Me={class:"btn-bell"},We=te(()=>_("div",{class:"user-avator"},[_("img",{src:Ie})],-1)),Je={class:"el-dropdown-link"},Ge={href:"https://github.com/zxiaosi/Vue3-FastAPI",target:"_blank"},Qe=L("\u9879\u76EE\u4ED3\u5E93"),Xe=L("\u9000\u51FA\u767B\u5F55"),Ye=x({setup(e){const t=P(),s=X(),o=H("username"),n=2;le(()=>{document.body.clientWidth<1500&&i()});const i=()=>{t.$patch({collapse:!t.collapse})},l=async h=>{h=="loginout"&&(await Ne(),z.success("\u9000\u51FA\u767B\u5F55\uFF01"),G("username"),G("Authorization"),s.push("/login"))};return(h,B)=>{const F=c("el-icon"),A=c("router-link"),a=c("el-tooltip"),f=c("el-badge"),g=c("el-dropdown-item"),y=c("el-dropdown-menu"),R=c("el-dropdown");return d(),E("div",je,[_("div",{class:"collapse-btn",onClick:i},[p(t).collapse?(d(),v(F,{key:1},{default:r(()=>[u(p(_e))]),_:1})):(d(),v(F,{key:0},{default:r(()=>[u(p(de))]),_:1}))]),He,_("div",Ue,[_("div",Ke,[_("div",Me,[u(f,{"is-dot":!0},{default:r(()=>[u(a,{effect:"dark",content:`\u6709${n}\u6761\u672A\u8BFB\u6D88\u606F`,placement:"bottom"},{default:r(()=>[u(A,{to:"/tabs"},{default:r(()=>[u(F,{size:22,color:"#409EFC"},{default:r(()=>[u(p(pe))]),_:1})]),_:1})]),_:1},8,["content"])]),_:1},8,["is-dot"])]),We,u(R,{trigger:"click",onCommand:l},{dropdown:r(()=>[u(y,null,{default:r(()=>[_("a",Ge,[u(g,null,{default:r(()=>[Qe]),_:1})]),u(g,{divided:"",command:"loginout"},{default:r(()=>[Xe]),_:1})]),_:1})]),default:r(()=>[_("span",Je,[_("span",null,D(p(o)),1),u(F,{size:20},{default:r(()=>[u(p(me))]),_:1})])]),_:1})])])])}}});var Ze=ee(Ye,[["__scopeId","data-v-47c8be89"]]);const et={class:"sidebar"},tt=x({setup(e){const t=P(),s=Y(),o=Z(()=>s.path),n=[{icon:"el-icon-ali-home",index:"/dashboard",title:"\u7CFB\u7EDF\u9996\u9875"},{icon:"el-icon-ali-cascades",index:"/inf",title:"\u4FE1\u606F\u8868\u683C",subs:[{index:"/department",title:"\u9662\u7CFB\u8868"},{index:"/major",title:"\u4E13\u4E1A\u8868"},{index:"/teacher",title:"\u6559\u5E08\u8868"},{index:"/student",title:"\u5B66\u751F\u8868"},{index:"/course",title:"\u8BFE\u7A0B\u8868"},{index:"/selectcourse",title:"\u9009\u8BFE\u8868"}]},{icon:"el-icon-ali-copy",index:"/tabs",title:"tab\u9009\u9879\u5361"},{icon:"el-icon-ali-calendar",index:"/form",title:"\u8868\u5355\u76F8\u5173",subs:[{index:"/baseform",title:"\u57FA\u672C\u8868\u5355"}]},{icon:"el-icon-ali-warn",index:"/err",title:"\u9519\u8BEF\u5904\u7406",subs:[{index:"/permission",title:"\u6743\u9650\u6D4B\u8BD5"},{index:"/404",title:"404\u9875\u9762"}]}];return(i,l)=>{const h=c("el-icon"),B=c("el-menu-item"),F=c("el-sub-menu"),A=c("el-menu");return d(),E("div",et,[u(A,{class:"sidebar-el-menu","default-active":p(o),collapse:p(t).collapse,"background-color":"#324157","text-color":"#bfcbd9","active-text-color":"#20a0ff","unique-opened":"",router:""},{default:r(()=>[(d(),E($,null,N(n,a=>(d(),E($,null,[a.subs?(d(),v(F,{key:0,index:a.index},{title:r(()=>[u(h,{class:I(a.icon)},null,8,["class"]),_("span",null,D(a.title),1)]),default:r(()=>[(d(!0),E($,null,N(a.subs,f=>(d(),v(B,{index:f.index},{default:r(()=>[L(D(f.title),1)]),_:2},1032,["index"]))),256))]),_:2},1032,["index"])):(d(),v(B,{key:1,index:a.index},{title:r(()=>[L(D(a.title),1)]),default:r(()=>[u(h,{class:I(a.icon)},null,8,["class"])]),_:2},1032,["index"]))],64))),64))]),_:1},8,["default-active","collapse"])])}}});var st=ee(tt,[["__scopeId","data-v-78ec8084"]]);const ot={key:0,class:"tags"},nt=["onClick"],at={class:"tags-close-box"},ut=_("span",null,"\u6807\u7B7E\u9009\u9879",-1),rt=L("\u5173\u95ED\u5176\u4ED6"),it=L("\u5173\u95ED\u6240\u6709"),ct=x({setup(e){const t=P(),s=Y(),o=X(),n=a=>a===s.fullPath,i=Z(()=>t.tagsList.length>0),l=a=>{const f=t.tagsList[a];t.delTagsItem(a);const g=t.tagsList[a]?t.tagsList[a]:t.tagsList[a-1];g?f.path===s.fullPath&&o.push(g.path):o.push("/")},h=a=>{t.tagsList.some(g=>g.path===a.fullPath)||(t.tagsList.length>=8&&t.delTagsItem(0),t.setTagsItem({name:a.name,title:a.meta.title,path:a.fullPath}))};h(s),ge(a=>{h(a)});const B=()=>{t.clearTags(),o.push("/")},F=()=>{const a=t.tagsList.filter(f=>f.path===s.fullPath);t.closeTagsOther(a)},A=a=>{a==="other"?F():B()};return(a,f)=>{const g=c("router-link"),y=c("el-icon"),R=c("el-button"),U=c("el-dropdown-item"),oe=c("el-dropdown-menu"),ne=c("el-dropdown");return p(i)?(d(),E("div",ot,[_("ul",null,[(d(!0),E($,null,N(p(t).tagsList,(S,K)=>(d(),E("li",{class:I(["tags-li",{active:n(S.path)}]),key:K},[u(g,{to:S.path,class:"tags-li-title"},{default:r(()=>[L(D(S.title),1)]),_:2},1032,["to"]),_("span",{class:"tags-li-icon",onClick:ht=>l(K)},[u(y,{color:"#606266"},{default:r(()=>[u(p(Ee))]),_:1})],8,nt)],2))),128))]),_("div",at,[u(ne,{onCommand:A},{dropdown:r(()=>[u(oe,{size:"small"},{default:r(()=>[u(U,{command:"other"},{default:r(()=>[rt]),_:1}),u(U,{command:"all"},{default:r(()=>[it]),_:1})]),_:1})]),default:r(()=>[u(R,{size:"small",type:"primary"},{default:r(()=>[ut,u(y,{class:"el-icon--right"},{default:r(()=>[u(p(Fe))]),_:1})]),_:1})]),_:1})])])):ve("",!0)}}}),lt={class:"about"},dt={class:"content"},_t=x({setup(e){const t=P(),s=t.tagsList.map(o=>o.name);return(o,n)=>{const i=c("router-view");return d(),E("div",lt,[u(Ze),u(st),_("div",{class:I(["content-box",{"content-collapse":p(t).collapse}])},[u(ct),_("div",dt,[u(i,null,{default:r(({Component:l})=>[(d(),v(Be,{include:p(s)},[(d(),v(be(l)))],1032,["include"]))]),_:1})])],2)])}}}),pt=[{path:"/",redirect:"/dashboard"},{path:"/",name:"home",component:_t,children:[{path:"/dashboard",name:"dashboard",meta:{title:"\u7CFB\u7EDF\u9996\u9875"},component:()=>m(()=>import("./Dashboard.63ea0ee4.js"),["assets/Dashboard.63ea0ee4.js","assets/Dashboard.94d37505.css","assets/vendor.3998f262.js"])},{path:"/department",name:"department",meta:{title:"\u9662\u7CFB\u8868"},component:()=>m(()=>import("./Department.23a3b190.js"),["assets/Department.23a3b190.js","assets/handleArray.ba308474.js","assets/handleArray.e5771ea5.css","assets/vendor.3998f262.js"])},{path:"/major",name:"major",meta:{title:"\u4E13\u4E1A\u8868"},component:()=>m(()=>import("./Major.a6e2149f.js"),["assets/Major.a6e2149f.js","assets/Major.a5d03a01.css","assets/handleArray.ba308474.js","assets/handleArray.e5771ea5.css","assets/vendor.3998f262.js"])},{path:"/teacher",name:"teacher",meta:{title:"\u6559\u5E08\u8868"},component:()=>m(()=>import("./Teacher.09129bd2.js"),["assets/Teacher.09129bd2.js","assets/Teacher.11132030.css","assets/handleArray.ba308474.js","assets/handleArray.e5771ea5.css","assets/vendor.3998f262.js"])},{path:"/student",name:"student",meta:{title:"\u5B66\u751F\u8868"},component:()=>m(()=>import("./Student.d5f5f078.js"),["assets/Student.d5f5f078.js","assets/Student.9411296c.css","assets/handleArray.ba308474.js","assets/handleArray.e5771ea5.css","assets/vendor.3998f262.js"])},{path:"/course",name:"course",meta:{title:"\u8BFE\u7A0B\u8868"},component:()=>m(()=>import("./Course.a55532b9.js"),["assets/Course.a55532b9.js","assets/Course.e6534668.css","assets/handleArray.ba308474.js","assets/handleArray.e5771ea5.css","assets/vendor.3998f262.js"])},{path:"/selectCourse",name:"selectCourse",meta:{title:"\u9009\u8BFE\u8868"},component:()=>m(()=>import("./SelectCourse.0a6ab3a9.js"),["assets/SelectCourse.0a6ab3a9.js","assets/SelectCourse.6d33c93f.css","assets/handleArray.ba308474.js","assets/handleArray.e5771ea5.css","assets/vendor.3998f262.js"])},{path:"/tabs",name:"tabs",meta:{title:"tab\u6807\u7B7E"},component:()=>m(()=>import("./Tabs.517192f1.js"),["assets/Tabs.517192f1.js","assets/Tabs.80382fa5.css","assets/vendor.3998f262.js"])},{path:"/baseform",name:"baseform",meta:{title:"\u57FA\u672C\u8868\u5355"},component:()=>m(()=>import("./BaseForm.06ab5793.js"),["assets/BaseForm.06ab5793.js","assets/vendor.3998f262.js"])},{path:"/permission",name:"permission",meta:{title:"\u6743\u9650\u7BA1\u7406",permission:!0},component:()=>m(()=>import("./Permission.7bf01527.js"),["assets/Permission.7bf01527.js","assets/Permission.fb0bea86.css","assets/vendor.3998f262.js"])},{path:"/404",name:"404",meta:{title:"\u627E\u4E0D\u5230\u9875\u9762"},component:()=>m(()=>import("./404.dca84278.js"),["assets/404.dca84278.js","assets/404.4c6c396e.css","assets/vendor.3998f262.js"])},{path:"/403",name:"403",meta:{title:"\u6CA1\u6709\u6743\u9650"},component:()=>m(()=>import("./403.5df9cdbb.js"),["assets/403.5df9cdbb.js","assets/403.e89c1663.css","assets/vendor.3998f262.js"])}]},{path:"/login",name:"login",meta:{title:"\u767B\u5F55"},component:()=>m(()=>import("./Login.ff78ddd9.js"),["assets/Login.ff78ddd9.js","assets/Login.2249b3e4.css","assets/vendor.3998f262.js"])}],se=Le({history:Ce("/"),routes:pt});se.beforeEach((e,t,s)=>{document.title=`${e.meta.title} | ${Oe}`;const o=H("username");!o&&e.path!=="/login"?s("/login"):e.meta.permission?o==="admin"?s():s("/403"):s()});const mt=Ae(ke);mt.use(De()).use(se).use(xe,{locale:Te}).mount("#app");export{Re as B,ee as _,Ft as a,vt as b,Ie as c,Lt as d,xt as e,Ct as f,H as g,At as h,Dt as i,Tt as j,b as k,P as l,Bt as r,Et as s,bt as u};
