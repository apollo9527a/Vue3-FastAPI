var de=Object.defineProperty;var O=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var H=(e,t,s)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,L=(e,t)=>{for(var s in t||(t={}))Q.call(t,s)&&H(e,s,t[s]);if(O)for(var s of O(t))X.call(t,s)&&H(e,s,t[s]);return e};var R=(e,t)=>{var s={};for(var o in e)Q.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&O)for(var o of O(e))t.indexOf(o)<0&&X.call(e,o)&&(s[o]=e[o]);return s};var K=(e,t,s)=>(H(e,typeof t!="symbol"?t+"":t,s),s);import{d as $,r as c,o as p,c as B,p as _e,e as pe,a as me,E as T,b as te,f as he,u as se,g as fe,h as Y,i as g,j as _,k as l,w as u,l as n,m as ge,n as Ee,q as Fe,t as w,s as ve,v as be,x as Be,y as Ce,z as F,A as oe,B as ae,F as S,C as M,D as q,G as Ae,H as Le,I as De,J as ye,K as ke,L as xe,M as Te,N as we,O as $e,P as Ie,Q as Pe,R as Ve}from"./vendor.fe2efcfb.js";const Oe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerpolicy&&(d.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?d.credentials="include":a.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(a){if(a.ep)return;a.ep=!0;const d=s(a);fetch(a.href,d)}};Oe();const Re=$({setup(e){return _e("echarts",pe),(t,s)=>{const o=c("router-view");return p(),B(o)}}}),Se="modulepreload",Z={},qe="/",h=function(t,s){return!s||s.length===0?t():Promise.all(s.map(o=>{if(o=`${qe}${o}`,o in Z)return;Z[o]=!0;const a=o.endsWith(".css"),d=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":Se,a||(i.as="script",i.crossOrigin=""),i.href=o,document.head.appendChild(i),a)return new Promise((f,v)=>{i.addEventListener("load",f),i.addEventListener("error",v)})})).then(()=>t())},j=me({id:"index",state:()=>({tagsList:[],collapse:!1,refreshView:!1}),getters:{},actions:{delTagsItem(e){this.tagsList.splice(e,1)},setTagsItem(e){this.tagsList.push(e)},clearTags(){this.tagsList=[]},closeTagsOther(e){this.tagsList=e}}});var ze="/assets/img.3f6b7d00.jpg";const W="Authorization$://";function z(e){return localStorage.getItem(e||W)}function xt(e,t){return localStorage.setItem(e||W,t)}function ee(e){return localStorage.removeItem(e||W)}const je=e=>{let t="";switch(e){case 400:t="\u8BF7\u6C42\u9519\u8BEF(400)";break;case 401:t="\u672A\u6388\u6743\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55(401)";break;case 403:t="\u62D2\u7EDD\u8BBF\u95EE(403)";break;case 404:t="\u8BF7\u6C42\u51FA\u9519(404)";break;case 408:t="\u8BF7\u6C42\u8D85\u65F6(408)";break;case 500:t="\u670D\u52A1\u5668\u9519\u8BEF(500)";break;case 501:t="\u670D\u52A1\u672A\u5B9E\u73B0(501)";break;case 502:t="\u7F51\u7EDC\u9519\u8BEF(502)";break;case 503:t="\u670D\u52A1\u4E0D\u53EF\u7528(503)";break;case 504:t="\u7F51\u7EDC\u8D85\u65F6(504)";break;case 505:t="HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301(505)";break;default:t=`\u8FDE\u63A5\u51FA\u9519(${e})!`}return`${t}\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u8054\u7CFB\u7BA1\u7406\u5458\uFF01`},Ne="\u5B66\u751F\u9009\u8BFE\u7CFB\u7EDF",ne="http://8.136.82.204:8000",ue=`${ne}/api`,Ue=15e3;class He{constructor(t){K(this,"instance");K(this,"loading");this.instance=te.create(t)}request(t){return new Promise((s,o)=>{this.instance.request(t).then(a=>s(a.data)).catch(a=>o(a))})}startLoading(){this.closeLoading(),this.loading=he.service({target:".el-table, .ms-content",lock:!0,text:"\u6B63\u5728\u8BF7\u6C42\u6570\u636E..."}),setTimeout(()=>this.closeLoading(),5e3)}closeLoading(){var t;(t=this.loading)==null||t.close()}}const C=new He({baseURL:ue,timeout:Ue,headers:{"Content-Type":"application/json;charset=utf-8"},transformRequest:[e=>JSON.stringify(e)],validateStatus(){return!0},transformResponse:[e=>(typeof e=="string"&&e.startsWith("{")&&(e=JSON.parse(e)),e)]});C.instance.interceptors.request.use(e=>{C.startLoading();let t=z("Authorization");return t&&(e.headers.Authorization="Bearer "+t),e},e=>(e.data.msg="\u670D\u52A1\u5668\u5F02\u5E38\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\uFF01",Promise.reject(e)));C.instance.interceptors.response.use(e=>{C.closeLoading();let t="";if(e.status==200&&typeof e.status=="number")return e;if(e.status==401)return window.location.href="/login",!1;e.data.msg!=null?t=e.data.msg:t=je(e.status),T.error(t)},e=>(te.isCancel(e)?console.log("repeated request: "+e.message):(e.data={},e.data.msg="\u8BF7\u6C42\u8D85\u65F6\u6216\u670D\u52A1\u5668\u5F02\u5E38\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u8054\u7CFB\u7BA1\u7406\u5458\uFF01",T.error(e.data.msg)),Promise.reject(e)));function D(e,t){return C.request({url:e,params:t,method:"GET"})}function I(e,t){return C.request({url:e,data:t,method:"POST"})}function Ke(e,t){return C.request({url:e,data:t,method:"PUT"})}function Me(e,t){return C.request({url:e,params:t,method:"DELETE"})}const We=()=>I("/logout"),Je=()=>D("/dashboard/userInfo"),Tt=()=>D("/dashboard/lang_todo_list"),wt=()=>D("/dashboard/visit_todo_request"),$t=e=>I("/add/todo",L({},e)),It=e=>I("/update/todo",L({},e)),Pt=e=>{let o=e,{path:t}=o,s=R(o,["path"]);return D(`${t}/`,L({},s))},Vt=e=>D(`${e.path}/${e.id}`),Ot=e=>{let o=e,{path:t}=o,s=R(o,["path"]);return I(`${t}/`,L({},s))},Rt=e=>{let a=e,{path:t,id:s}=a,o=R(a,["path","id"]);return Ke(`${t}/${s}`,L({},o))},St=e=>Me(`${e.path}/${e.id}`),qt=e=>I(`${e.path}/del/`,e.idList),zt=e=>D(`${e}/relation/`);var re=(e,t)=>{const s=e.__vccOpts||e;for(const[o,a]of t)s[o]=a;return s};const J=e=>(Be("data-v-236aeb9a"),e=e(),Ce(),e),Ge={class:"header"},Qe=J(()=>_("div",{class:"logo"},"\u5B66\u751F\u9009\u8BFE\u7CFB\u7EDF",-1)),Xe={class:"header-right"},Ye={class:"header-user-con"},Ze={class:"btn-bell"},et={class:"user-avator"},tt=["src"],st={key:1,src:ze},ot={class:"el-dropdown-link"},at=F("\u66F4\u6362\u5934\u50CF"),nt={href:"https://github.com/zxiaosi/Vue3-FastAPI",target:"_blank"},ut=F("\u9879\u76EE\u4ED3\u5E93"),rt=F("\u9000\u51FA\u767B\u5F55"),it=J(()=>_("div",{class:"el-upload__text"},[F("Drop file here or "),_("em",null,"click to upload")],-1)),lt=J(()=>_("div",{class:"el-upload__tip"},"jpg/png\u6587\u4EF6\u5927\u5C0F\u8981\u5C11\u4E8E500kb",-1)),ct=$({setup(e){const t=j(),s=se(),o=z("username");let a=z("Authorization"),d={Authorization:"Bearer "+a};const i=fe({api_url:ue+"/upload/file/",message:2,dialogVisible:!1,image:""});Y(async()=>{await f()});const f=async()=>{const{data:m}=await Je();i.image=ne+m.image},v=m=>{T.success(m.msg),i.dialogVisible=!1,f(),t.refreshView=!0},y=m=>{T.error(m.msg)};Y(async()=>{document.body.clientWidth<1500&&A(),await f()});const A=()=>{t.$patch({collapse:!t.collapse})},r=async m=>{m=="logout"?(await We(),T.success("\u9000\u51FA\u767B\u5F55\uFF01"),ee("username"),ee("Authorization"),s.push("/login")):i.dialogVisible=!0};return(m,E)=>{const b=c("el-icon"),N=c("router-link"),P=c("el-tooltip"),U=c("el-badge"),k=c("el-dropdown-item"),x=c("el-dropdown-menu"),V=c("el-dropdown"),G=c("el-upload"),le=c("el-dialog");return p(),g("div",Ge,[_("div",{class:"collapse-btn",onClick:A},[l(t).collapse?(p(),B(b,{key:1},{default:u(()=>[n(l(Ee))]),_:1})):(p(),B(b,{key:0},{default:u(()=>[n(l(ge))]),_:1}))]),Qe,_("div",Xe,[_("div",Ye,[_("div",Ze,[n(U,{"is-dot":!!l(i).message},{default:u(()=>[n(P,{effect:"dark",content:l(i).message?`\u6709${l(i).message}\u6761\u672A\u8BFB\u6D88\u606F`:"\u6D88\u606F\u4E2D\u5FC3",placement:"bottom"},{default:u(()=>[n(N,{to:"/tabs"},{default:u(()=>[n(b,{size:22,color:"#409EFC"},{default:u(()=>[n(l(Fe))]),_:1})]),_:1})]),_:1},8,["content"])]),_:1},8,["is-dot"])]),_("div",et,[l(i).image?(p(),g("img",{key:0,src:l(i).image},null,8,tt)):(p(),g("img",st))]),n(V,{trigger:"click",onCommand:r},{dropdown:u(()=>[n(x,null,{default:u(()=>[n(k,{command:"upload"},{default:u(()=>[at]),_:1}),_("a",nt,[n(k,null,{default:u(()=>[ut]),_:1})]),n(k,{divided:"",command:"logout"},{default:u(()=>[rt]),_:1})]),_:1})]),default:u(()=>[_("span",ot,[_("span",null,w(l(o)),1),n(b,{size:20},{default:u(()=>[n(l(ve))]),_:1})])]),_:1})])]),n(le,{modelValue:l(i).dialogVisible,"onUpdate:modelValue":E[0]||(E[0]=ce=>l(i).dialogVisible=ce),title:"Tips",width:"21%"},{default:u(()=>[n(G,{class:"upload",drag:"",action:l(i).api_url,"on-success":v,"on-error":y,headers:l(d)},{tip:u(()=>[lt]),default:u(()=>[n(b,{class:"el-icon--upload"},{default:u(()=>[n(l(be))]),_:1}),it]),_:1},8,["action","headers"])]),_:1},8,["modelValue"])])}}});var dt=re(ct,[["__scopeId","data-v-236aeb9a"]]);const _t={class:"sidebar"},pt=$({setup(e){const t=j(),s=oe(),o=ae(()=>s.path),a=[{icon:"el-icon-ali-home",index:"/dashboard",title:"\u7CFB\u7EDF\u9996\u9875"},{icon:"el-icon-ali-cascades",index:"/inf",title:"\u4FE1\u606F\u8868\u683C",subs:[{index:"/department",title:"\u9662\u7CFB\u8868"},{index:"/major",title:"\u4E13\u4E1A\u8868"},{index:"/teacher",title:"\u6559\u5E08\u8868"},{index:"/student",title:"\u5B66\u751F\u8868"},{index:"/course",title:"\u8BFE\u7A0B\u8868"},{index:"/selectcourse",title:"\u9009\u8BFE\u8868"}]},{icon:"el-icon-ali-copy",index:"/tabs",title:"tab\u9009\u9879\u5361"},{icon:"el-icon-ali-calendar",index:"/form",title:"\u8868\u5355\u76F8\u5173",subs:[{index:"/baseform",title:"\u57FA\u672C\u8868\u5355"}]},{icon:"el-icon-ali-warn",index:"/err",title:"\u9519\u8BEF\u5904\u7406",subs:[{index:"/permission",title:"\u6743\u9650\u6D4B\u8BD5"},{index:"/404",title:"404\u9875\u9762"}]}];return(d,i)=>{const f=c("el-icon"),v=c("el-menu-item"),y=c("el-sub-menu"),A=c("el-menu");return p(),g("div",_t,[n(A,{class:"sidebar-el-menu","default-active":l(o),collapse:l(t).collapse,"background-color":"#324157","text-color":"#bfcbd9","active-text-color":"#20a0ff","unique-opened":"",router:""},{default:u(()=>[(p(),g(S,null,M(a,r=>(p(),g(S,null,[r.subs?(p(),B(y,{key:0,index:r.index},{title:u(()=>[n(f,{class:q(r.icon)},null,8,["class"]),_("span",null,w(r.title),1)]),default:u(()=>[(p(!0),g(S,null,M(r.subs,m=>(p(),B(v,{index:m.index},{default:u(()=>[F(w(m.title),1)]),_:2},1032,["index"]))),256))]),_:2},1032,["index"])):(p(),B(v,{key:1,index:r.index},{title:u(()=>[F(w(r.title),1)]),default:u(()=>[n(f,{class:q(r.icon)},null,8,["class"])]),_:2},1032,["index"]))],64))),64))]),_:1},8,["default-active","collapse"])])}}});var mt=re(pt,[["__scopeId","data-v-78ec8084"]]);const ht={key:0,class:"tags"},ft=["onClick"],gt={class:"tags-close-box"},Et=_("span",null,"\u6807\u7B7E\u9009\u9879",-1),Ft=F("\u5173\u95ED\u5176\u4ED6"),vt=F("\u5173\u95ED\u6240\u6709"),bt=$({setup(e){const t=j(),s=oe(),o=se(),a=r=>r===s.fullPath,d=ae(()=>t.tagsList.length>0),i=r=>{const m=t.tagsList[r];t.delTagsItem(r);const E=t.tagsList[r]?t.tagsList[r]:t.tagsList[r-1];E?m.path===s.fullPath&&o.push(E.path):o.push("/")},f=r=>{t.tagsList.some(E=>E.path===r.fullPath)||(t.tagsList.length>=8&&t.delTagsItem(0),t.setTagsItem({name:r.name,title:r.meta.title,path:r.fullPath}))};f(s),Ae(r=>{f(r)});const v=()=>{t.clearTags(),o.push("/")},y=()=>{const r=t.tagsList.filter(m=>m.path===s.fullPath);t.closeTagsOther(r)},A=r=>{r==="other"?y():v()};return(r,m)=>{const E=c("router-link"),b=c("el-icon"),N=c("el-button"),P=c("el-dropdown-item"),U=c("el-dropdown-menu"),k=c("el-dropdown");return l(d)?(p(),g("div",ht,[_("ul",null,[(p(!0),g(S,null,M(l(t).tagsList,(x,V)=>(p(),g("li",{class:q(["tags-li",{active:a(x.path)}]),key:V},[n(E,{to:x.path,class:"tags-li-title"},{default:u(()=>[F(w(x.title),1)]),_:2},1032,["to"]),_("span",{class:"tags-li-icon",onClick:G=>i(V)},[n(b,{color:"#606266"},{default:u(()=>[n(l(Le))]),_:1})],8,ft)],2))),128))]),_("div",gt,[n(k,{onCommand:A},{dropdown:u(()=>[n(U,{size:"small"},{default:u(()=>[n(P,{command:"other"},{default:u(()=>[Ft]),_:1}),n(P,{command:"all"},{default:u(()=>[vt]),_:1})]),_:1})]),default:u(()=>[n(N,{size:"small",type:"primary"},{default:u(()=>[Et,n(b,{class:"el-icon--right"},{default:u(()=>[n(l(De))]),_:1})]),_:1})]),_:1})])])):ye("",!0)}}}),Bt={class:"about"},Ct={class:"content"},At=$({setup(e){const t=j(),s=t.tagsList.map(o=>o.name);return(o,a)=>{const d=c("router-view");return p(),g("div",Bt,[n(dt),n(mt),_("div",{class:q(["content-box",{"content-collapse":l(t).collapse}])},[n(bt),_("div",Ct,[n(d,null,{default:u(({Component:i})=>[(p(),B(xe,{include:l(s)},[(p(),B(ke(i)))],1032,["include"]))]),_:1})])],2)])}}}),Lt=[{path:"/",redirect:"/dashboard"},{path:"/",name:"home",component:At,children:[{path:"/dashboard",name:"dashboard",meta:{title:"\u7CFB\u7EDF\u9996\u9875"},component:()=>h(()=>import("./Dashboard.2c27d0cb.js"),["assets/Dashboard.2c27d0cb.js","assets/Dashboard.ed239611.css","assets/vendor.fe2efcfb.js"])},{path:"/department",name:"department",meta:{title:"\u9662\u7CFB\u8868"},component:()=>h(()=>import("./Department.b7c135c7.js"),["assets/Department.b7c135c7.js","assets/handleArray.c31bd690.js","assets/handleArray.cec906b1.css","assets/vendor.fe2efcfb.js"])},{path:"/major",name:"major",meta:{title:"\u4E13\u4E1A\u8868"},component:()=>h(()=>import("./Major.0c6f13ab.js"),["assets/Major.0c6f13ab.js","assets/Major.a5d03a01.css","assets/handleArray.c31bd690.js","assets/handleArray.cec906b1.css","assets/vendor.fe2efcfb.js"])},{path:"/teacher",name:"teacher",meta:{title:"\u6559\u5E08\u8868"},component:()=>h(()=>import("./Teacher.facf6c71.js"),["assets/Teacher.facf6c71.js","assets/Teacher.169362d3.css","assets/handleArray.c31bd690.js","assets/handleArray.cec906b1.css","assets/vendor.fe2efcfb.js"])},{path:"/student",name:"student",meta:{title:"\u5B66\u751F\u8868"},component:()=>h(()=>import("./Student.96c5510c.js"),["assets/Student.96c5510c.js","assets/Student.136d58ff.css","assets/handleArray.c31bd690.js","assets/handleArray.cec906b1.css","assets/vendor.fe2efcfb.js"])},{path:"/course",name:"course",meta:{title:"\u8BFE\u7A0B\u8868"},component:()=>h(()=>import("./Course.377db8c3.js"),["assets/Course.377db8c3.js","assets/Course.e6534668.css","assets/handleArray.c31bd690.js","assets/handleArray.cec906b1.css","assets/vendor.fe2efcfb.js"])},{path:"/selectCourse",name:"selectCourse",meta:{title:"\u9009\u8BFE\u8868"},component:()=>h(()=>import("./SelectCourse.f2acc666.js"),["assets/SelectCourse.f2acc666.js","assets/SelectCourse.6d33c93f.css","assets/handleArray.c31bd690.js","assets/handleArray.cec906b1.css","assets/vendor.fe2efcfb.js"])},{path:"/tabs",name:"tabs",meta:{title:"tab\u6807\u7B7E"},component:()=>h(()=>import("./Tabs.13274a7f.js"),["assets/Tabs.13274a7f.js","assets/Tabs.80382fa5.css","assets/vendor.fe2efcfb.js"])},{path:"/baseform",name:"baseform",meta:{title:"\u57FA\u672C\u8868\u5355"},component:()=>h(()=>import("./BaseForm.a863e0b6.js"),["assets/BaseForm.a863e0b6.js","assets/vendor.fe2efcfb.js"])},{path:"/permission",name:"permission",meta:{title:"\u6743\u9650\u7BA1\u7406",permission:!0},component:()=>h(()=>import("./Permission.ca1b8aec.js"),["assets/Permission.ca1b8aec.js","assets/Permission.fb0bea86.css","assets/vendor.fe2efcfb.js"])},{path:"/404",name:"404",meta:{title:"\u627E\u4E0D\u5230\u9875\u9762"},component:()=>h(()=>import("./404.a3033512.js"),["assets/404.a3033512.js","assets/404.4c6c396e.css","assets/vendor.fe2efcfb.js"])},{path:"/403",name:"403",meta:{title:"\u6CA1\u6709\u6743\u9650"},component:()=>h(()=>import("./403.75180a4b.js"),["assets/403.75180a4b.js","assets/403.e89c1663.css","assets/vendor.fe2efcfb.js"])}]},{path:"/login",name:"login",meta:{title:"\u767B\u5F55"},component:()=>h(()=>import("./Login.416467f7.js"),["assets/Login.416467f7.js","assets/Login.8d8defb7.css","assets/vendor.fe2efcfb.js"])}],ie=Te({history:we("/"),routes:Lt});ie.beforeEach((e,t,s)=>{document.title=`${e.meta.title} | ${Ne}`;const o=z("username");!o&&e.path!=="/login"?s("/login"):e.meta.permission?o==="admin"?s():s("/403"):s()});const Dt=$e(Re);Dt.use(Ie()).use(ie).use(Pe,{locale:Ve}).mount("#app");export{ue as A,ne as B,re as _,Je as a,Tt as b,wt as c,$t as d,It as e,Vt as f,z as g,qt as h,Ot as i,Rt as j,St as k,zt as l,C as m,Pt as r,xt as s,j as u};
