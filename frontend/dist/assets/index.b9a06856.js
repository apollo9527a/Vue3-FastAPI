var le=Object.defineProperty;var V=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var H=(e,t,s)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,y=(e,t)=>{for(var s in t||(t={}))Z.call(t,s)&&H(e,s,t[s]);if(V)for(var s of V(t))ee.call(t,s)&&H(e,s,t[s]);return e};var R=(e,t)=>{var s={};for(var o in e)Z.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&V)for(var o of V(e))t.indexOf(o)<0&&ee.call(e,o)&&(s[o]=e[o]);return s};var K=(e,t,s)=>(H(e,typeof t!="symbol"?t+"":t,s),s);import{d as $,r as i,o as h,c as v,p as de,e as _e,a as me,E as I,b as ae,f as pe,u as G,g as M,h as ne,i as F,j as p,k as c,w as u,l as n,m as he,n as fe,q as ge,t as T,s as ve,v as Ee,x as Fe,y as be,z as b,A as ue,B as re,F as S,C as W,D as q,G as Be,H as Ce,I as Le,J as Ae,K as ye,L as De,M as we,N as Ie,O as Te,P as $e,Q as ke,R as Pe}from"./vendor.be4efd2f.js";const Oe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}};Oe();const xe=$({setup(e){return de("echarts",_e),(t,s)=>{const o=i("router-view");return h(),v(o)}}}),Ve="modulepreload",te={},Re="/",f=function(t,s){return!s||s.length===0?t():Promise.all(s.map(o=>{if(o=`${Re}${o}`,o in te)return;te[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${l}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":Ve,a||(d.as="script",d.crossOrigin=""),d.href=o,document.head.appendChild(d),a)return new Promise((C,E)=>{d.addEventListener("load",C),d.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())},Q="Authorization$://";function N(e){return localStorage.getItem(e||Q)}function oe(e,t){return localStorage.setItem(e||Q,t)}function se(e){return localStorage.removeItem(e||Q)}const z=me({id:"index",state:()=>({tagsList:[],collapse:!1,userInfo:{name:"",avatar:"",address:"",modifyTime:""}}),getters:{tagNameList(e){return e.tagsList.map(t=>t.name)}},actions:{delTagsItem(e){this.tagsList.splice(e,1)},setTagsItem(e){this.tagsList.push(e)},clearTags(){this.tagsList=[]},closeTagsOther(e){this.tagsList=e}}}),Se=e=>{let t="";switch(e){case 400:t="\u8BF7\u6C42\u9519\u8BEF(400)";break;case 401:t="\u672A\u6388\u6743\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55(401)";break;case 403:t="\u62D2\u7EDD\u8BBF\u95EE(403)";break;case 404:t="\u8BF7\u6C42\u51FA\u9519(404)";break;case 408:t="\u8BF7\u6C42\u8D85\u65F6(408)";break;case 500:t="\u670D\u52A1\u5668\u9519\u8BEF(500)";break;case 501:t="\u670D\u52A1\u672A\u5B9E\u73B0(501)";break;case 502:t="\u7F51\u7EDC\u9519\u8BEF(502)";break;case 503:t="\u670D\u52A1\u4E0D\u53EF\u7528(503)";break;case 504:t="\u7F51\u7EDC\u8D85\u65F6(504)";break;case 505:t="HTTP\u7248\u672C\u4E0D\u53D7\u652F\u6301(505)";break;default:t=`\u8FDE\u63A5\u51FA\u9519(${e})!`}return`${t}\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u8054\u7CFB\u7BA1\u7406\u5458\uFF01`},qe="\u5B66\u751F\u9009\u8BFE\u7CFB\u7EDF",ce="http://8.136.82.204:8000/api",Ne=15e3;class ze{constructor(t){K(this,"instance");K(this,"loading");this.instance=ae.create(t)}request(t){return new Promise((s,o)=>{this.instance.request(t).then(a=>s(a.data)).catch(a=>o(a))})}startLoading(){this.closeLoading(),this.loading=pe.service({target:".el-table, .ms-content",lock:!0,text:"\u6B63\u5728\u8BF7\u6C42\u6570\u636E..."}),setTimeout(()=>this.closeLoading(),5e3)}closeLoading(){var t;(t=this.loading)==null||t.close()}}const B=new ze({baseURL:ce,timeout:Ne,headers:{"Content-Type":"application/json;charset=utf-8"},transformRequest:[e=>JSON.stringify(e)],validateStatus(){return!0},transformResponse:[e=>(typeof e=="string"&&e.startsWith("{")&&(e=JSON.parse(e)),e)]});B.instance.interceptors.request.use(e=>{B.startLoading();let t=N("Authorization");return t&&(e.headers.Authorization="Bearer "+t),e},e=>(e.data.msg="\u670D\u52A1\u5668\u5F02\u5E38\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\uFF01",Promise.reject(e)));B.instance.interceptors.response.use(e=>{B.closeLoading();let t="";if(e.status==200&&typeof e.status=="number")return e;if(e.status==401)return window.location.href="/login",!1;e.data.msg!=null?t=e.data.msg:t=Se(e.status),I.error(t)},e=>(ae.isCancel(e)?console.log("repeated request: "+e.message):(e.data={},e.data.msg="\u8BF7\u6C42\u8D85\u65F6\u6216\u670D\u52A1\u5668\u5F02\u5E38\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u8054\u7CFB\u7BA1\u7406\u5458\uFF01",I.error(e.data.msg)),Promise.reject(e)));function D(e,t){return B.request({url:e,params:t,method:"GET"})}function k(e,t){return B.request({url:e,data:t,method:"POST"})}function Ue(e,t){return B.request({url:e,data:t,method:"PUT"})}function je(e,t){return B.request({url:e,params:t,method:"DELETE"})}const Je=()=>k("/logout"),He=()=>D("/dashboard/userInfo"),Ot=()=>D("/dashboard/lang_todo_list"),xt=()=>D("/dashboard/visit_todo_request"),Vt=e=>k("/todo/add",y({},e)),Rt=e=>k("/todo/update",y({},e)),St=e=>{let o=e,{path:t}=o,s=R(o,["path"]);return D(`${t}/`,y({},s))},qt=e=>D(`${e.path}/${e.id}`),Nt=e=>{let o=e,{path:t}=o,s=R(o,["path"]);return k(`${t}/`,y({},s))},zt=e=>{let a=e,{path:t,id:s}=a,o=R(a,["path","id"]);return Ue(`${t}/${s}`,y({},o))},Ut=e=>je(`${e.path}/${e.id}`),jt=e=>k(`${e.path}/del/`,e.idList),Jt=e=>D(`${e}/relation/`);var P=(e,t)=>{const s=e.__vccOpts||e;for(const[o,a]of t)s[o]=a;return s};const X=e=>(Fe("data-v-00eac106"),e=e(),be(),e),Ke={class:"header"},Me=X(()=>p("div",{class:"logo"},"\u5B66\u751F\u9009\u8BFE\u7CFB\u7EDF",-1)),We={class:"header-right"},Ge={class:"header-user-con"},Qe={class:"btn-bell"},Xe={class:"user-avator"},Ye=["src"],Ze={class:"el-dropdown-link"},et=b("\u66F4\u6362\u5934\u50CF"),tt={href:"https://github.com/zxiaosi/Vue3-FastAPI",target:"_blank"},ot=b("\u9879\u76EE\u4ED3\u5E93"),st=b("\u9000\u51FA\u767B\u5F55"),at=X(()=>p("div",{class:"el-upload__text"},[b("Drop file here or "),p("em",null,"click to upload")],-1)),nt=X(()=>p("div",{class:"el-upload__tip"},"jpg/png\u6587\u4EF6\u5927\u5C0F\u8981\u5C11\u4E8E500kb",-1)),ut=$({setup(e){const t=z(),s=G(),o=M({name:"",avatar:"",address:"",modifyTime:""}),a=M({uploadApiUrl:ce+"/upload/file/",header:{Authorization:"Bearer "+N("Authorization")},message:2,dialogVisible:!1});ne(async()=>{document.body.clientWidth<1500&&E();const _=JSON.parse(N("userInfo"));_.avatar?Object.assign(o,_):await l()});const l=async()=>{const{data:_}=await He();o.name=_.name,o.avatar=_.image,o.address=_.address,o.modifyTime=_.gmt_modify,oe("userInfo",JSON.stringify(o)),t.userInfo=o},d=_=>{const r=_.data;I.success(_.msg),o.avatar=r.image,o.modifyTime=r.gmt_modify,oe("userInfo",JSON.stringify(o)),t.userInfo=o,a.dialogVisible=!1},C=_=>{I.error(_.msg)},E=()=>{t.$patch({collapse:!t.collapse})},L=async _=>{_=="logout"?(await Je(),I.success("\u9000\u51FA\u767B\u5F55\uFF01"),se("userInfo"),se("Authorization"),s.push("/login")):_=="upload"&&(a.dialogVisible=!0)};return(_,r)=>{const m=i("el-icon"),g=i("router-link"),O=i("el-tooltip"),U=i("el-badge"),A=i("el-dropdown-item"),j=i("el-dropdown-menu"),J=i("el-dropdown"),w=i("el-upload"),x=i("el-dialog");return h(),F("div",Ke,[p("div",{class:"collapse-btn",onClick:E},[c(t).collapse?(h(),v(m,{key:1},{default:u(()=>[n(c(fe))]),_:1})):(h(),v(m,{key:0},{default:u(()=>[n(c(he))]),_:1}))]),Me,p("div",We,[p("div",Ge,[p("div",Qe,[n(U,{"is-dot":!!c(a).message},{default:u(()=>[n(O,{effect:"dark",content:c(a).message?`\u6709${c(a).message}\u6761\u672A\u8BFB\u6D88\u606F`:"\u6D88\u606F\u4E2D\u5FC3",placement:"bottom"},{default:u(()=>[n(g,{to:"/tabs"},{default:u(()=>[n(m,{size:22,color:"#409EFC"},{default:u(()=>[n(c(ge))]),_:1})]),_:1})]),_:1},8,["content"])]),_:1},8,["is-dot"])]),p("div",Xe,[p("img",{src:c(o).avatar},null,8,Ye)]),n(J,{trigger:"click",onCommand:L},{dropdown:u(()=>[n(j,null,{default:u(()=>[n(A,{command:"upload"},{default:u(()=>[et]),_:1}),p("a",tt,[n(A,null,{default:u(()=>[ot]),_:1})]),n(A,{divided:"",command:"logout"},{default:u(()=>[st]),_:1})]),_:1})]),default:u(()=>[p("span",Ze,[p("span",null,T(c(o).name),1),n(m,{size:20},{default:u(()=>[n(c(ve))]),_:1})])]),_:1})])]),n(x,{modelValue:c(a).dialogVisible,"onUpdate:modelValue":r[0]||(r[0]=Y=>c(a).dialogVisible=Y),title:"\u5934\u50CF\u4E0A\u4F20",width:"21%"},{default:u(()=>[n(w,{class:"upload",drag:"",action:c(a).uploadApiUrl,"on-success":d,"on-error":C,headers:c(a).header},{tip:u(()=>[nt]),default:u(()=>[n(m,{class:"el-icon--upload"},{default:u(()=>[n(c(Ee))]),_:1}),at]),_:1},8,["action","headers"])]),_:1},8,["modelValue"])])}}});var rt=P(ut,[["__scopeId","data-v-00eac106"]]);const ct={class:"sidebar"},it=$({setup(e){const t=z(),s=ue(),o=G(),a=re(()=>s.path),l=M({routers:[]});return ne(()=>{o.options.routes.map(d=>{if(d.name=="home")l.routers=d.children;else return})}),(d,C)=>{const E=i("el-icon"),L=i("el-menu-item"),_=i("el-sub-menu"),r=i("el-menu");return h(),F("div",ct,[n(r,{class:"sidebar-el-menu","default-active":c(a),collapse:c(t).collapse,"background-color":"#324157","text-color":"#bfcbd9","active-text-color":"#20a0ff","unique-opened":"",router:""},{default:u(()=>[(h(!0),F(S,null,W(c(l).routers,m=>(h(),F(S,null,[m.children?(h(),v(_,{key:0,index:m.path},{title:u(()=>[n(E,{class:q(m.meta.icon)},null,8,["class"]),p("span",null,T(m.meta.title),1)]),default:u(()=>[(h(!0),F(S,null,W(m.children,g=>(h(),v(L,{index:g.path},{default:u(()=>[b(T(g.meta.title),1)]),_:2},1032,["index"]))),256))]),_:2},1032,["index"])):(h(),v(L,{key:1,index:m.path},{title:u(()=>[b(T(m.meta.title),1)]),default:u(()=>[n(E,{class:q(m.meta.icon)},null,8,["class"])]),_:2},1032,["index"]))],64))),256))]),_:1},8,["default-active","collapse"])])}}});var lt=P(it,[["__scopeId","data-v-2355769a"]]);const dt={key:0,class:"tags"},_t=["onClick"],mt={class:"tags-close-box"},pt=p("span",null,"\u6807\u7B7E\u9009\u9879",-1),ht=b("\u5173\u95ED\u5176\u4ED6"),ft=b("\u5173\u95ED\u6240\u6709"),gt=$({setup(e){const t=z(),s=ue(),o=G(),a=r=>r===s.fullPath,l=re(()=>t.tagsList.length>0),d=r=>{const m=t.tagsList[r];t.delTagsItem(r);const g=t.tagsList[r]?t.tagsList[r]:t.tagsList[r-1];g?m.path===s.fullPath&&o.push(g.path):o.push("/")},C=r=>{t.tagsList.some(g=>g.path===r.fullPath)||(t.tagsList.length>=8&&t.delTagsItem(0),t.setTagsItem({name:r.name,title:r.meta.title,path:r.fullPath}))};C(s),Be(r=>{C(r)});const E=()=>{t.clearTags(),o.push("/")},L=()=>{const r=t.tagsList.filter(m=>m.path===s.fullPath);t.closeTagsOther(r)},_=r=>{r==="other"?L():E()};return(r,m)=>{const g=i("router-link"),O=i("el-icon"),U=i("el-button"),A=i("el-dropdown-item"),j=i("el-dropdown-menu"),J=i("el-dropdown");return c(l)?(h(),F("div",dt,[p("ul",null,[(h(!0),F(S,null,W(c(t).tagsList,(w,x)=>(h(),F("li",{class:q(["tags-li",{active:a(w.path)}]),key:x},[n(g,{to:w.path,class:"tags-li-title"},{default:u(()=>[b(T(w.title),1)]),_:2},1032,["to"]),p("span",{class:"tags-li-icon",onClick:Y=>d(x)},[n(O,{color:"#606266"},{default:u(()=>[n(c(Ce))]),_:1})],8,_t)],2))),128))]),p("div",mt,[n(J,{onCommand:_},{dropdown:u(()=>[n(j,{size:"small"},{default:u(()=>[n(A,{command:"other"},{default:u(()=>[ht]),_:1}),n(A,{command:"all"},{default:u(()=>[ft]),_:1})]),_:1})]),default:u(()=>[n(U,{size:"small",type:"primary"},{default:u(()=>[pt,n(O,{class:"el-icon--right"},{default:u(()=>[n(c(Le))]),_:1})]),_:1})]),_:1})])])):Ae("",!0)}}}),vt={class:"about"},Et={class:"content"},Ft=$({setup(e){const t=z(),s=t.tagNameList;return(o,a)=>{const l=i("router-view");return h(),F("div",vt,[n(rt),n(lt),p("div",{class:q(["content-box",{"content-collapse":c(t).collapse}])},[n(gt),p("div",Et,[n(l,null,{default:u(({Component:d})=>[(h(),v(De,{include:c(s)},[(h(),v(ye(d)))],1032,["include"]))]),_:1})])],2)])}}}),bt={};function Bt(e,t){const s=i("router-view");return h(),v(s)}var Ct=P(bt,[["render",Bt]]);const Lt={};function At(e,t){const s=i("router-view");return h(),v(s)}var yt=P(Lt,[["render",At]]);const Dt={};function wt(e,t){const s=i("router-view");return h(),v(s)}var It=P(Dt,[["render",wt]]);const Tt=[{path:"/",redirect:"/dashboard"},{path:"/",name:"home",component:Ft,children:[{path:"/dashboard",name:"dashboard",meta:{title:"\u7CFB\u7EDF\u9996\u9875",icon:"el-icon-ali-home"},component:()=>f(()=>import("./index.81a7d0e6.js"),["assets/index.81a7d0e6.js","assets/index.fdc5d3f2.css","assets/vendor.be4efd2f.js"])},{path:"/table",name:"table",meta:{title:"\u8868\u683C\u76F8\u5173",icon:"el-icon-ali-cascades"},component:Ct,children:[{path:"/department",name:"department",meta:{title:"\u9662\u7CFB\u8868"},component:()=>f(()=>import("./index.3b31699a.js"),["assets/index.3b31699a.js","assets/handleArray.11bc7df4.js","assets/handleArray.1c2b61d2.css","assets/vendor.be4efd2f.js","assets/index.f5e27dee.js"])},{path:"/major",name:"major",meta:{title:"\u4E13\u4E1A\u8868"},component:()=>f(()=>import("./index.79c33c9e.js"),["assets/index.79c33c9e.js","assets/index.e60cca08.css","assets/handleArray.11bc7df4.js","assets/handleArray.1c2b61d2.css","assets/vendor.be4efd2f.js","assets/index.f5e27dee.js"])},{path:"/teacher",name:"teacher",meta:{title:"\u6559\u5E08\u8868"},component:()=>f(()=>import("./index.d6227d88.js"),["assets/index.d6227d88.js","assets/index.dc831cfe.css","assets/handleArray.11bc7df4.js","assets/handleArray.1c2b61d2.css","assets/vendor.be4efd2f.js","assets/index.f5e27dee.js"])},{path:"/student",name:"student",meta:{title:"\u5B66\u751F\u8868"},component:()=>f(()=>import("./index.e6f8f861.js"),["assets/index.e6f8f861.js","assets/index.46929c40.css","assets/handleArray.11bc7df4.js","assets/handleArray.1c2b61d2.css","assets/vendor.be4efd2f.js","assets/index.f5e27dee.js"])},{path:"/course",name:"course",meta:{title:"\u8BFE\u7A0B\u8868"},component:()=>f(()=>import("./index.48a9e5ce.js"),["assets/index.48a9e5ce.js","assets/index.d697f9b7.css","assets/handleArray.11bc7df4.js","assets/handleArray.1c2b61d2.css","assets/vendor.be4efd2f.js","assets/index.f5e27dee.js"])},{path:"/selectCourse",name:"selectCourse",meta:{title:"\u9009\u8BFE\u8868"},component:()=>f(()=>import("./index.c0150cfa.js"),["assets/index.c0150cfa.js","assets/index.385fc520.css","assets/handleArray.11bc7df4.js","assets/handleArray.1c2b61d2.css","assets/vendor.be4efd2f.js","assets/index.f5e27dee.js"])}]},{path:"/tabs",name:"tabs",meta:{title:"tab\u6807\u7B7E",icon:"el-icon-ali-copy"},component:()=>f(()=>import("./index.f2efc840.js"),["assets/index.f2efc840.js","assets/index.2202a628.css","assets/vendor.be4efd2f.js"])},{path:"/form",name:"form",meta:{title:"\u8868\u5355\u76F8\u5173",icon:"el-icon-ali-calendar"},component:yt,children:[{path:"/baseform",name:"baseform",meta:{title:"\u57FA\u672C\u8868\u5355"},component:()=>f(()=>import("./index.6ff8f141.js"),["assets/index.6ff8f141.js","assets/vendor.be4efd2f.js"])}]},{path:"/permission",name:"permission",meta:{title:"\u6743\u9650\u7BA1\u7406",permission:!0,icon:"el-icon-ali-warn"},component:()=>f(()=>import("./index.68b0eb7d.js"),["assets/index.68b0eb7d.js","assets/index.fbe44393.css","assets/index.f5e27dee.js","assets/vendor.be4efd2f.js"])},{path:"/error",name:"error",meta:{title:"\u9519\u8BEF\u5904\u7406",icon:"el-icon-ali-warn"},component:It,children:[{path:"/404",name:"404",meta:{title:"\u627E\u4E0D\u5230\u9875\u9762"},component:()=>f(()=>import("./index.db212487.js"),["assets/index.db212487.js","assets/index.627d927c.css","assets/vendor.be4efd2f.js"])},{path:"/403",name:"403",meta:{title:"\u6CA1\u6709\u6743\u9650"},component:()=>f(()=>import("./index.d93979fe.js"),["assets/index.d93979fe.js","assets/index.8ac1ce6c.css","assets/vendor.be4efd2f.js"])}]}]},{path:"/login",name:"login",meta:{title:"\u767B\u5F55"},component:()=>f(()=>import("./index.9a5f95ea.js"),["assets/index.9a5f95ea.js","assets/index.b94873bc.css","assets/vendor.be4efd2f.js"])}],ie=we({history:Ie("/"),routes:Tt});ie.beforeEach((e,t,s)=>{document.title=`${e.meta.title} | ${qe}`;const o=JSON.parse(N("userInfo"));!o&&e.path!=="/login"?s("/login"):e.meta.permission?o.name==="admin"?s():s("/403"):s()});const $t=Te(xe);$t.use($e()).use(ie).use(ke,{locale:Pe}).mount("#app");export{ce as A,P as _,Ot as a,xt as b,Vt as c,Rt as d,qt as e,jt as f,N as g,Nt as h,zt as i,Ut as j,Jt as k,B as l,St as r,oe as s,z as u};
